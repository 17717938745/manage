(self.webpackChunkwebpack_react=self.webpackChunkwebpack_react||[]).push([[538],{1538:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return W}});a(2222),a(9554),a(6992),a(1249),a(8309),a(9601),a(1539),a(8783),a(4747),a(3948),a(285);var r=a(3804),o=a.n(r),n=a(6905),l=a(9074),c=(a(5697),a(6010)),i=a(3786),s=(0,i.Z)(r.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel"),m=a(2543),d=a(9693),u=a(7294),p=a(3871),y=a(2467);function f(e){return"Backspace"===e.key||"Delete"===e.key}var g=r.forwardRef((function(e,t){var a=e.avatar,o=e.classes,i=e.className,m=e.clickable,d=e.color,g=void 0===d?"default":d,b=e.component,h=e.deleteIcon,v=e.disabled,k=void 0!==v&&v,C=e.icon,w=e.label,E=e.onClick,S=e.onDelete,Z=e.onKeyDown,x=e.onKeyUp,N=e.size,I=void 0===N?"medium":N,R=e.variant,T=void 0===R?"default":R,L=(0,l.Z)(e,["avatar","classes","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"]),F=r.useRef(null),z=(0,u.Z)(F,t),$=function(e){e.stopPropagation(),S&&S(e)},O=!(!1===m||!E)||m,P="small"===I,A=b||(O?y.Z:"div"),j=A===y.Z?{component:"div"}:{},D=null;if(S){var q=(0,c.Z)("default"!==g&&("default"===T?o["deleteIconColor".concat((0,p.Z)(g))]:o["deleteIconOutlinedColor".concat((0,p.Z)(g))]),P&&o.deleteIconSmall);D=h&&r.isValidElement(h)?r.cloneElement(h,{className:(0,c.Z)(h.props.className,o.deleteIcon,q),onClick:$}):r.createElement(s,{className:(0,c.Z)(o.deleteIcon,q),onClick:$})}var U=null;a&&r.isValidElement(a)&&(U=r.cloneElement(a,{className:(0,c.Z)(o.avatar,a.props.className,P&&o.avatarSmall,"default"!==g&&o["avatarColor".concat((0,p.Z)(g))])}));var _=null;return C&&r.isValidElement(C)&&(_=r.cloneElement(C,{className:(0,c.Z)(o.icon,C.props.className,P&&o.iconSmall,"default"!==g&&o["iconColor".concat((0,p.Z)(g))])})),r.createElement(A,(0,n.Z)({role:O||S?"button":void 0,className:(0,c.Z)(o.root,i,"default"!==g&&[o["color".concat((0,p.Z)(g))],O&&o["clickableColor".concat((0,p.Z)(g))],S&&o["deletableColor".concat((0,p.Z)(g))]],"default"!==T&&[o.outlined,{primary:o.outlinedPrimary,secondary:o.outlinedSecondary}[g]],k&&o.disabled,P&&o.sizeSmall,O&&o.clickable,S&&o.deletable),"aria-disabled":!!k||void 0,tabIndex:O||S?0:void 0,onClick:E,onKeyDown:function(e){e.currentTarget===e.target&&f(e)&&e.preventDefault(),Z&&Z(e)},onKeyUp:function(e){e.currentTarget===e.target&&(S&&f(e)?S(e):"Escape"===e.key&&F.current&&F.current.blur()),x&&x(e)},ref:z},j,L),U||_,r.createElement("span",{className:(0,c.Z)(o.label,P&&o.labelSmall)},w),D)})),b=(0,m.Z)((function(e){var t="light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],a=(0,d.Fq)(e.palette.text.primary,.26);return{root:{fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:e.palette.getContrastText(t),backgroundColor:t,borderRadius:16,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:"none",padding:0,verticalAlign:"middle",boxSizing:"border-box","&$disabled":{opacity:.5,pointerEvents:"none"},"& $avatar":{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],fontSize:e.typography.pxToRem(12)},"& $avatarColorPrimary":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark},"& $avatarColorSecondary":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.dark},"& $avatarSmall":{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)}},sizeSmall:{height:24},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},disabled:{},clickable:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover, &:focus":{backgroundColor:(0,d._4)(t,.08)},"&:active":{boxShadow:e.shadows[1]}},clickableColorPrimary:{"&:hover, &:focus":{backgroundColor:(0,d._4)(e.palette.primary.main,.08)}},clickableColorSecondary:{"&:hover, &:focus":{backgroundColor:(0,d._4)(e.palette.secondary.main,.08)}},deletable:{"&:focus":{backgroundColor:(0,d._4)(t,.08)}},deletableColorPrimary:{"&:focus":{backgroundColor:(0,d._4)(e.palette.primary.main,.2)}},deletableColorSecondary:{"&:focus":{backgroundColor:(0,d._4)(e.palette.secondary.main,.2)}},outlined:{backgroundColor:"transparent",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:(0,d.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity)},"& $avatar":{marginLeft:4},"& $avatarSmall":{marginLeft:2},"& $icon":{marginLeft:4},"& $iconSmall":{marginLeft:2},"& $deleteIcon":{marginRight:5},"& $deleteIconSmall":{marginRight:3}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(e.palette.primary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:(0,d.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity)}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(e.palette.secondary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:(0,d.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity)}},avatar:{},avatarSmall:{},avatarColorPrimary:{},avatarColorSecondary:{},icon:{color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],marginLeft:5,marginRight:-6},iconSmall:{width:18,height:18,marginLeft:4,marginRight:-4},iconColorPrimary:{color:"inherit"},iconColorSecondary:{color:"inherit"},label:{overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},labelSmall:{paddingLeft:8,paddingRight:8},deleteIcon:{WebkitTapHighlightColor:"transparent",color:a,height:22,width:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:(0,d.Fq)(a,.4)}},deleteIconSmall:{height:16,width:16,marginRight:4,marginLeft:-4},deleteIconColorPrimary:{color:(0,d.Fq)(e.palette.primary.contrastText,.7),"&:hover, &:active":{color:e.palette.primary.contrastText}},deleteIconColorSecondary:{color:(0,d.Fq)(e.palette.secondary.contrastText,.7),"&:hover, &:active":{color:e.palette.secondary.contrastText}},deleteIconOutlinedColorPrimary:{color:(0,d.Fq)(e.palette.primary.main,.7),"&:hover, &:active":{color:e.palette.primary.main}},deleteIconOutlinedColorSecondary:{color:(0,d.Fq)(e.palette.secondary.main,.7),"&:hover, &:active":{color:e.palette.secondary.main}}}}),{name:"MuiChip"})(g),h=(0,i.Z)(r.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var v=r.forwardRef((function(e,t){var a=e.alt,o=e.children,i=e.classes,s=e.className,m=e.component,d=void 0===m?"div":m,u=e.imgProps,p=e.sizes,y=e.src,f=e.srcSet,g=e.variant,b=void 0===g?"circular":g,v=(0,l.Z)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),k=null,C=function(e){var t=e.src,a=e.srcSet,o=r.useState(!1),n=o[0],l=o[1];return r.useEffect((function(){if(t||a){l(!1);var e=!0,r=new Image;return r.src=t,r.srcSet=a,r.onload=function(){e&&l("loaded")},r.onerror=function(){e&&l("error")},function(){e=!1}}}),[t,a]),n}({src:y,srcSet:f}),w=y||f,E=w&&"error"!==C;return k=E?r.createElement("img",(0,n.Z)({alt:a,src:y,srcSet:f,sizes:p,className:i.img},u)):null!=o?o:w&&a?a[0]:r.createElement(h,{className:i.fallback}),r.createElement(d,(0,n.Z)({className:(0,c.Z)(i.root,i.system,i[b],s,!E&&i.colorDefault),ref:t},v),k)})),k=(0,m.Z)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(v),C=a(1120),w=a(7623),E=a(6873),S=a(5639),Z=a(9803),x=a(702),N=a(2692),I=a(5477),R=a(1749),T=a(2598),L=a(4436),F=a(6019),z=a(282),$=a(7812),O=a(3293),P=a(6657),A=a(1398),j=a(1432),D=a.p+"img/20210716/laughing.svg";function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,o=!1,n=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done)&&(a.push(l.value),!t||a.length!==t);r=!0);}catch(e){o=!0,n=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw n}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function _(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function B(e){return o().createElement(O.Z,K({elevation:6,variant:"filled"},e))}var M=(0,C.Z)((function(e){var t;return(0,w.Z)({root:{"& > *":{margin:e.spacing(1)}},formRoot:{flexGrow:1},formSubmit:{display:"flex",alignItems:"center",justifyContent:"center"},input:{display:"none"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},closeIcon:{width:20,height:20},img:{width:"100%"},submitButton:{marginRight:e.spacing(12)},formControl:(t={},_(t,e.breakpoints.down("md"),{backgroundColor:"#dddddd",color:"rgba(13,42,114,0.28)"}),_(t,e.breakpoints.down("sm"),{backgroundColor:"rgba(176,206,133,0.28)",color:"rgba(68,17,99,0.28)"}),t),gridItem:{padding:e.spacing(2)}})}));function W(){var e=M(),t=q((0,r.useState)(new Array(null)[0]),2),a=t[0],n=t[1],l=q((0,r.useState)(new Array),2),i=l[0],s=l[1],m=q((0,r.useState)(!1),2),d=m[0],u=m[1],p=q((0,r.useState)(!1),2),y=p[0],f=p[1],g=q((0,r.useState)("error"),2),h=g[0],v=g[1],C=q((0,r.useState)(""),2),w=C[0],O=C[1],U=q((0,r.useState)(new Array({})[0]),2),_=U[0],K=U[1];(0,r.useEffect)((function(){(0,P.uz)("auth/tools/business/defaultConfig",{}).then((function(e){K((0,P.d9)(e.data))}))}),["init"]);var W=[{value:0,label:"常规"},{value:1,label:"加粗"}],H=function(e){var t=e.key,a=e.type,r=e.valueType||a,n=_[t],l="color"===a?"#000000":"number"===r?0:"";return n=("color"===a?"#".concat(n):n)||l,"select"===a?o().createElement(E.Z,{key:"".concat(e.key),value:n,style:{height:48},onChange:function(e){_[t]=e.target.value,K((0,P.d9)(_))}},W.map((function(e,t){return o().createElement(S.Z,{key:"".concat(e.key,"-").concat(t),value:e.value},e.label)}))):o().createElement(Z.Z,{key:"".concat(e.key),type:e.type,label:e.label,value:n,onChange:function(e){var r=e.target.value;_[t]="color"===a?r.substr(1):r,K((0,P.d9)(_))}})};return o().createElement("form",{className:(0,c.Z)(e.root,"form"),noValidate:!0,autoComplete:"off"},o().createElement(x.Z,{anchorOrigin:{vertical:"top",horizontal:"right"},open:y,autoHideDuration:6e3,onClose:function(e,t){"clickaway"!==t&&f(!1)},message:h,action:o().createElement(o().Fragment,null,o().createElement("img",{src:A.Z,onClick:function(){f(!1)},className:e.closeIcon,alt:"图片"}))}),o().createElement(N.Z,{className:e.backdrop,open:d,onClick:function(){u(!1)},addEndListener:function(){}},o().createElement(I.Z,{color:"inherit"})),o().createElement(R.Z,{container:!0,justifyContent:"center",className:e.formRoot},o().createElement(T.Z,{mdDown:!0},o().createElement(R.Z,{item:!0,md:1,lg:1,className:e.gridItem},o().createElement(b,{avatar:o().createElement(k,null,o().createElement("img",{style:{width:30,height:30,backgroundColor:"rgb(201,176,50)"},src:D,alt:"Laughing"})),label:"hey!",clickable:!0,color:"primary"}))),o().createElement(R.Z,{item:!0,xs:12,sm:12,md:3,lg:3,className:e.gridItem},o().createElement(L.Z,{component:"fieldset",className:e.formControl,fullWidth:!0},o().createElement(F.Z,{component:"legend"},"二维码"),[{key:"width",type:"number",label:"宽度"},{key:"height",type:"number",label:"宽度"},{key:"left",type:"number",label:"左边距"},{key:"top",type:"number",label:"上边距"}].map(H))),o().createElement(R.Z,{item:!0,xs:12,sm:12,md:3,lg:3,className:e.gridItem},o().createElement(L.Z,{component:"fieldset",className:e.formControl,fullWidth:!0},o().createElement(F.Z,{component:"legend"},"姓名"),[{key:"nameFontColor",type:"color",label:"颜色"},{key:"nameFontName",type:"text",label:"字体"},{key:"nameFontStyle",type:"select",valueType:"number",optionList:W,label:"字体样式"},{key:"nameFontSize",type:"number",label:"字体大小"},{key:"nameLeft",type:"number",label:"左边距"},{key:"nameTop",type:"number",label:"上边距"}].map(H))),o().createElement(R.Z,{item:!0,xs:12,sm:12,md:3,lg:3,className:e.gridItem},o().createElement(L.Z,{component:"fieldset",className:e.formControl,fullWidth:!0},o().createElement(F.Z,{component:"legend"},"描述"),[{key:"describeFontColor",type:"color",label:"颜色"},{key:"describeFontName",type:"text",label:"字体"},{key:"describeFontStyle",type:"select",valueType:"number",optionList:W,label:"字体样式"},{key:"describeFontSize",type:"number",label:"字体大小"},{key:"describeLeft",type:"number",label:"左边距"},{key:"describeTop",type:"number",label:"上边距"}].map(H))),o().createElement(T.Z,{mdDown:!0},o().createElement(R.Z,{item:!0,md:2,lg:2,className:e.gridItem},o().createElement(B,{severity:"info"},"美好的一天，从工作开始!"))),o().createElement(R.Z,{container:!0,justifyContent:"center",className:e.formRoot,spacing:2},o().createElement(R.Z,{item:!0,xs:12,className:e.formSubmit},o().createElement(z.Z,{className:e.submitButton,variant:"contained",color:"primary",component:"span",onClick:function(){(0,P.v_)("upload/tools/business/merge",{name:"姓名",describe:"部门",url:"https://www.baidu.com"},{responseType:"blob"}).then((function(e){var t=(window.URL||window.webkitURL).createObjectURL(new Blob([e],{type:"image/png"}));O(t),u(!1)})).catch((function(){u(!1)}))}},"查看"),o().createElement(L.Z,{component:"fieldset"},o().createElement(F.Z,{component:"legend"},"背景图"),o().createElement($.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){if(a)a.click();else{var e=document.createElement("input");e.setAttribute("accept","image/*"),e.setAttribute("display","none"),e.setAttribute("multiple","true"),e.setAttribute("type","file"),e.addEventListener("change",(function(e){for(var t=e.currentTarget.files,a=[],r=0;r<t.length;r++)a.push({fileName:t[r].name});s(a)})),n(e),e.click()}}},o().createElement("img",{src:j.Z,alt:"Photo",className:"file-icon"})),o().createElement("ul",null,i.map((function(e){return o().createElement("li",{key:e.fileName},e.fileName)})))),i&&i.length>=0?o().createElement(z.Z,{variant:"contained",color:"secondary",component:"span",onClick:function(){var e=a.files;if(e.length<=0)f(!0),v("请选择图片");else{var t=new FormData;for(var r in e.forEach((function(e){t.append("file",e)})),_)t.append(r,_[r]);u(!0),(0,P.ws)("upload/tools/business/editTemplate",t,{responseType:"blob"}).then((function(e){var t=(window.URL||window.webkitURL).createObjectURL(new Blob([e],{type:"image/png"}));O(t),u(!1)})).catch((function(){u(!1)}))}}},"上传"):null))),w?o().createElement("img",{src:w,className:e.img,alt:"图片"}):null)}}}]);