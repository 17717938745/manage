(self.webpackChunkwebpack_react=self.webpackChunkwebpack_react||[]).push([[876],{5876:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ge}});n(2526),n(1817),n(2165),n(2222),n(6992),n(1249),n(1539),n(8783),n(3948);var a=n(3804),r=n.n(a),o=n(6873),i=n(5639),l=n(9659),c=(n(7327),n(9554),n(9600),n(561),n(8309),n(9601),n(8674),n(4916),n(3123),n(3210),n(4747),n(5666),n(1120)),u=n(4436),s=n(6019),m=n(282),f=n(2822),p=n(998),d=n(5757),v=n(7812),h=n(9803),g=n(2564),b=n(9425),y=n(9074),k=n(6905),x=(n(5697),n(6010)),E=n(2543),w=n(8920),C=n(9693),S=n(4896),Z=n(626),A=n(5192),N=n(7294),L=n(3871),V=n(2775);var j=(0,E.Z)((function(e){return{thumb:{"&$open":{"& $offset":{transform:"scale(1) translateY(-10px)"}}},open:{},offset:(0,k.Z)({zIndex:1},e.typography.body2,{fontSize:e.typography.pxToRem(12),lineHeight:1.2,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),top:-34,transformOrigin:"bottom center",transform:"scale(0)",position:"absolute"}),circle:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"currentColor",transform:"rotate(-45deg)"},label:{color:e.palette.primary.contrastText,transform:"rotate(45deg)"}}}),{name:"PrivateValueLabel"})((function(e){var t=e.children,n=e.classes,r=e.className,o=e.open,i=e.value,l=e.valueLabelDisplay;return"off"===l?t:a.cloneElement(t,{className:(0,x.Z)(t.props.className,(o||"on"===l)&&n.open,n.thumb)},a.createElement("span",{className:(0,x.Z)(n.offset,r)},a.createElement("span",{className:n.circle},a.createElement("span",{className:n.label},i))))}));function I(e,t){return e-t}function O(e,t,n){return Math.min(Math.max(t,e),n)}function R(e,t){return e.reduce((function(e,n,a){var r=Math.abs(t-n);return null===e||r<e.distance||r===e.distance?{distance:r,index:a}:e}),null).index}function M(e,t){if(void 0!==t.current&&e.changedTouches){for(var n=0;n<e.changedTouches.length;n+=1){var a=e.changedTouches[n];if(a.identifier===t.current)return{x:a.clientX,y:a.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function T(e,t,n){return 100*(e-t)/(n-t)}function F(e,t,n){var a=Math.round((e-n)/t)*t+n;return Number(a.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var a=e.toString().split(".")[1];return a?a.length:0}(t)))}function $(e){var t=e.values,n=e.source,a=e.newValue,r=e.index;if(t[r]===a)return n;var o=t.slice();return o[r]=a,o}function B(e){var t=e.sliderRef,n=e.activeIndex,a=e.setActive;t.current.contains(document.activeElement)&&Number(document.activeElement.getAttribute("data-index"))===n||t.current.querySelector('[role="slider"][data-index="'.concat(n,'"]')).focus(),a&&a(n)}var D={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},z=function(e){return e},K=a.forwardRef((function(e,t){var n=e["aria-label"],r=e["aria-labelledby"],o=e["aria-valuetext"],i=e.classes,l=e.className,c=e.color,u=void 0===c?"primary":c,s=e.component,m=void 0===s?"span":s,f=e.defaultValue,p=e.disabled,d=void 0!==p&&p,v=e.getAriaLabel,h=e.getAriaValueText,E=e.marks,C=void 0!==E&&E,K=e.max,P=void 0===K?100:K,J=e.min,_=void 0===J?0:J,H=e.name,U=e.onChange,G=e.onChangeCommitted,Y=e.onMouseDown,q=e.orientation,X=void 0===q?"horizontal":q,W=e.scale,Q=void 0===W?z:W,ee=e.step,te=void 0===ee?1:ee,ne=e.ThumbComponent,ae=void 0===ne?"span":ne,re=e.track,oe=void 0===re?"normal":re,ie=e.value,le=e.ValueLabelComponent,ce=void 0===le?j:le,ue=e.valueLabelDisplay,se=void 0===ue?"off":ue,me=e.valueLabelFormat,fe=void 0===me?z:me,pe=(0,y.Z)(e,["aria-label","aria-labelledby","aria-valuetext","classes","className","color","component","defaultValue","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","ThumbComponent","track","value","ValueLabelComponent","valueLabelDisplay","valueLabelFormat"]),de=(0,w.Z)(),ve=a.useRef(),he=a.useState(-1),ge=he[0],be=he[1],ye=a.useState(-1),ke=ye[0],xe=ye[1],Ee=(0,V.Z)({controlled:ie,default:f,name:"Slider"}),we=(0,b.Z)(Ee,2),Ce=we[0],Se=we[1],Ze=Array.isArray(Ce),Ae=Ze?Ce.slice().sort(I):[Ce];Ae=Ae.map((function(e){return O(e,_,P)}));var Ne=!0===C&&null!==te?(0,g.Z)(Array(Math.floor((P-_)/te)+1)).map((function(e,t){return{value:_+te*t}})):C||[],Le=(0,S.Z)(),Ve=Le.isFocusVisible,je=Le.onBlurVisible,Ie=Le.ref,Oe=a.useState(-1),Re=Oe[0],Me=Oe[1],Te=a.useRef(),Fe=(0,N.Z)(Ie,Te),$e=(0,N.Z)(t,Fe),Be=(0,A.Z)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));Ve(e)&&Me(t),xe(t)})),De=(0,A.Z)((function(){-1!==Re&&(Me(-1),je()),xe(-1)})),ze=(0,A.Z)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));xe(t)})),Ke=(0,A.Z)((function(){xe(-1)})),Pe="rtl"===de.direction,Je=(0,A.Z)((function(e){var t,n=Number(e.currentTarget.getAttribute("data-index")),a=Ae[n],r=(P-_)/10,o=Ne.map((function(e){return e.value})),i=o.indexOf(a),l=Pe?"ArrowLeft":"ArrowRight",c=Pe?"ArrowRight":"ArrowLeft";switch(e.key){case"Home":t=_;break;case"End":t=P;break;case"PageUp":te&&(t=a+r);break;case"PageDown":te&&(t=a-r);break;case l:case"ArrowUp":t=te?a+te:o[i+1]||o[o.length-1];break;case c:case"ArrowDown":t=te?a-te:o[i-1]||o[0];break;default:return}if(e.preventDefault(),te&&(t=F(t,te,_)),t=O(t,_,P),Ze){var u=t;t=$({values:Ae,source:Ce,newValue:t,index:n}).sort(I),B({sliderRef:Te,activeIndex:t.indexOf(u)})}Se(t),Me(n),U&&U(e,t),G&&G(e,t)})),_e=a.useRef(),He=X;Pe&&"vertical"!==X&&(He+="-reverse");var Ue=function(e){var t,n,a=e.finger,r=e.move,o=void 0!==r&&r,i=e.values,l=e.source,c=Te.current.getBoundingClientRect(),u=c.width,s=c.height,m=c.bottom,f=c.left;if(t=0===He.indexOf("vertical")?(m-a.y)/s:(a.x-f)/u,-1!==He.indexOf("-reverse")&&(t=1-t),n=function(e,t,n){return(n-t)*e+t}(t,_,P),te)n=F(n,te,_);else{var p=Ne.map((function(e){return e.value}));n=p[R(p,n)]}n=O(n,_,P);var d=0;if(Ze){var v=n;d=(n=$({values:i,source:l,newValue:n,index:d=o?_e.current:R(i,n)}).sort(I)).indexOf(v),_e.current=d}return{newValue:n,activeIndex:d}},Ge=(0,A.Z)((function(e){var t=M(e,ve);if(t){var n=Ue({finger:t,move:!0,values:Ae,source:Ce}),a=n.newValue,r=n.activeIndex;B({sliderRef:Te,activeIndex:r,setActive:be}),Se(a),U&&U(e,a)}})),Ye=(0,A.Z)((function(e){var t=M(e,ve);if(t){var n=Ue({finger:t,values:Ae,source:Ce}).newValue;be(-1),"touchend"===e.type&&xe(-1),G&&G(e,n),ve.current=void 0;var a=(0,Z.Z)(Te.current);a.removeEventListener("mousemove",Ge),a.removeEventListener("mouseup",Ye),a.removeEventListener("touchmove",Ge),a.removeEventListener("touchend",Ye)}})),qe=(0,A.Z)((function(e){e.preventDefault();var t=e.changedTouches[0];null!=t&&(ve.current=t.identifier);var n=M(e,ve),a=Ue({finger:n,values:Ae,source:Ce}),r=a.newValue,o=a.activeIndex;B({sliderRef:Te,activeIndex:o,setActive:be}),Se(r),U&&U(e,r);var i=(0,Z.Z)(Te.current);i.addEventListener("touchmove",Ge),i.addEventListener("touchend",Ye)}));a.useEffect((function(){var e=Te.current;e.addEventListener("touchstart",qe);var t=(0,Z.Z)(e);return function(){e.removeEventListener("touchstart",qe),t.removeEventListener("mousemove",Ge),t.removeEventListener("mouseup",Ye),t.removeEventListener("touchmove",Ge),t.removeEventListener("touchend",Ye)}}),[Ye,Ge,qe]);var Xe=(0,A.Z)((function(e){Y&&Y(e),e.preventDefault();var t=M(e,ve),n=Ue({finger:t,values:Ae,source:Ce}),a=n.newValue,r=n.activeIndex;B({sliderRef:Te,activeIndex:r,setActive:be}),Se(a),U&&U(e,a);var o=(0,Z.Z)(Te.current);o.addEventListener("mousemove",Ge),o.addEventListener("mouseup",Ye)})),We=T(Ze?Ae[0]:_,_,P),Qe=T(Ae[Ae.length-1],_,P)-We,et=(0,k.Z)({},D[He].offset(We),D[He].leap(Qe));return a.createElement(m,(0,k.Z)({ref:$e,className:(0,x.Z)(i.root,i["color".concat((0,L.Z)(u))],l,d&&i.disabled,Ne.length>0&&Ne.some((function(e){return e.label}))&&i.marked,!1===oe&&i.trackFalse,"vertical"===X&&i.vertical,"inverted"===oe&&i.trackInverted),onMouseDown:Xe},pe),a.createElement("span",{className:i.rail}),a.createElement("span",{className:i.track,style:et}),a.createElement("input",{value:Ae.join(","),name:H,type:"hidden"}),Ne.map((function(e,t){var n,r=T(e.value,_,P),o=D[He].offset(r);return n=!1===oe?-1!==Ae.indexOf(e.value):"normal"===oe&&(Ze?e.value>=Ae[0]&&e.value<=Ae[Ae.length-1]:e.value<=Ae[0])||"inverted"===oe&&(Ze?e.value<=Ae[0]||e.value>=Ae[Ae.length-1]:e.value>=Ae[0]),a.createElement(a.Fragment,{key:e.value},a.createElement("span",{style:o,"data-index":t,className:(0,x.Z)(i.mark,n&&i.markActive)}),null!=e.label?a.createElement("span",{"aria-hidden":!0,"data-index":t,style:o,className:(0,x.Z)(i.markLabel,n&&i.markLabelActive)},e.label):null)})),Ae.map((function(e,t){var l=T(e,_,P),c=D[He].offset(l);return a.createElement(ce,{key:t,valueLabelFormat:fe,valueLabelDisplay:se,className:i.valueLabel,value:"function"==typeof fe?fe(Q(e),t):fe,index:t,open:ke===t||ge===t||"on"===se,disabled:d},a.createElement(ae,{className:(0,x.Z)(i.thumb,i["thumbColor".concat((0,L.Z)(u))],ge===t&&i.active,d&&i.disabled,Re===t&&i.focusVisible),tabIndex:d?null:0,role:"slider",style:c,"data-index":t,"aria-label":v?v(t):n,"aria-labelledby":r,"aria-orientation":X,"aria-valuemax":Q(P),"aria-valuemin":Q(_),"aria-valuenow":Q(e),"aria-valuetext":h?h(Q(e),t):o,onKeyDown:Je,onFocus:Be,onBlur:De,onMouseOver:ze,onMouseLeave:Ke}))})))})),P=(0,E.Z)((function(e){return{root:{height:2,width:"100%",boxSizing:"content-box",padding:"13px 0",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:e.palette.primary.main,WebkitTapHighlightColor:"transparent","&$disabled":{pointerEvents:"none",cursor:"default",color:e.palette.grey[400]},"&$vertical":{width:2,height:"100%",padding:"0 13px"},"@media (pointer: coarse)":{padding:"20px 0","&$vertical":{padding:"0 20px"}},"@media print":{colorAdjust:"exact"}},colorPrimary:{},colorSecondary:{color:e.palette.secondary.main},marked:{marginBottom:20,"&$vertical":{marginBottom:"auto",marginRight:20}},vertical:{},disabled:{},rail:{display:"block",position:"absolute",width:"100%",height:2,borderRadius:1,backgroundColor:"currentColor",opacity:.38,"$vertical &":{height:"100%",width:2}},track:{display:"block",position:"absolute",height:2,borderRadius:1,backgroundColor:"currentColor","$vertical &":{width:2}},trackFalse:{"& $track":{display:"none"}},trackInverted:{"& $track":{backgroundColor:"light"===e.palette.type?(0,C.$n)(e.palette.primary.main,.62):(0,C._j)(e.palette.primary.main,.5)},"& $rail":{opacity:1}},thumb:{position:"absolute",width:12,height:12,marginLeft:-6,marginTop:-5,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow"],{duration:e.transitions.duration.shortest}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",left:-15,top:-15,right:-15,bottom:-15},"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat((0,C.Fq)(e.palette.primary.main,.16)),"@media (hover: none)":{boxShadow:"none"}},"&$active":{boxShadow:"0px 0px 0px 14px ".concat((0,C.Fq)(e.palette.primary.main,.16))},"&$disabled":{width:8,height:8,marginLeft:-4,marginTop:-3,"&:hover":{boxShadow:"none"}},"$vertical &":{marginLeft:-5,marginBottom:-6},"$vertical &$disabled":{marginLeft:-3,marginBottom:-4}},thumbColorPrimary:{},thumbColorSecondary:{"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat((0,C.Fq)(e.palette.secondary.main,.16))},"&$active":{boxShadow:"0px 0px 0px 14px ".concat((0,C.Fq)(e.palette.secondary.main,.16))}},active:{},focusVisible:{},valueLabel:{left:"calc(-50% - 4px)"},mark:{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},markActive:{backgroundColor:e.palette.background.paper,opacity:.8},markLabel:(0,k.Z)({},e.typography.body2,{color:e.palette.text.secondary,position:"absolute",top:26,transform:"translateX(-50%)",whiteSpace:"nowrap","$vertical &":{top:"auto",left:26,transform:"translateY(50%)"},"@media (pointer: coarse)":{top:40,"$vertical &":{left:31}}}),markLabelActive:{color:e.palette.text.primary}}}),{name:"MuiSlider"})(K),J=n(8889),_=n(702),H=n(2692),U=n(5477),G=n(1749),Y=n(9895),q=n(6657);function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ee(e){var t=e.json,n=W((0,a.useState)(window.PCH_SCOPE_HTML_JSON||{}),2),o=n[0],i=n[1];(0,a.useEffect)((function(){if((0,q.fp)(t)){var e=window.location.pathname.split("/"),n=e[e.length-1];(0,q.U2)("upload/json/".concat(n,".json?r=").concat(Math.random())).then((function(e){i(e)})).catch((function(e){i({tagName:"div",items:[{tagName:"h3",content:"ops"},{tagName:"p",properties:{style:{color:"#ee2222",margin:0,padding:0,paddingTop:100,fontSize:"14px",paddingBottom:100,fontFamily:"微软雅黑, Arial, sans-serif"}},content:"该页面不存在"}]})}))}else i(t)}),[t]);var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0,o=a.join("-"),i=t.properties||{};switch(e){case"h1":return r().createElement("h1",X({key:o},i),n);case"h2":return r().createElement("h2",X({key:o},i),n);case"h3":return r().createElement("h3",X({key:o},i),n);case"h4":return r().createElement("h4",X({key:o},i),n);case"h5":return r().createElement("h5",X({key:o},i),n);case"h6":return r().createElement("h6",X({key:o},i),n);case"div":return r().createElement("div",X({key:o},i),n);case"p":return r().createElement("p",X({key:o},i),n);case"button":return r().createElement("button",X({key:o},i),n);case"span":return r().createElement("span",X({key:o},i),n);case"a":return r().createElement("a",X({key:o},i),n);case"br":return r().createElement("br",X({key:o},i));case"img":var l=i.alt;return delete i.alt,r().createElement("img",X({alt:l||"图片",key:o},i));default:return n}};return r().createElement("div",null,function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t=(0,q.kJ)(n.items)?(n.items||[]).map((function(t,n){return e(t,a.concat("items").concat(String(n)))})):(0,q.sO)(n.data)?e(n.data||{},a.concat("data")):n.content,l((n.tagName||"").toLowerCase(),n,t,a)}(o))}var te=n.p+"img/20210716/align-left.svg",ne=n.p+"img/20210716/align-center.svg",ae=n.p+"img/20210716/align-right.svg",re=n.p+"img/20210716/clear-all.svg",oe=n(1398),ie=n(892),le=n(647);function ce(e,t,n,a,r,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,r)}function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var fe=(0,c.Z)((function(e){return{root:{flexGrow:1,marginTop:230},form:{backgroundColor:"rgba(255,255,255,0.9)",position:"fixed",width:"100%",margin:10,maxHeight:230,overflowY:"scroll","& > *":{margin:e.spacing(1)},borderBottom:"1px solid #ee2211"},flexLine:{display:"flex;",alignItems:"center",justifyContent:"space-between",alignContent:"space-between",flexFlow:"row wrap"},flexItem:{display:"inline-block"},editIcon:{height:30,minHeight:30},editIconButton:{"& img":{width:15,height:15}},marginVertical:{marginTop:10,marginBottom:10},formMarginRight:{marginRight:e.spacing(1)},formMarginRight50:{marginRight:50},formMarginBottom:{marginBottom:10},styleLine:{display:"flex",alignItems:"center",justifyContent:"left"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},closeIcon:{width:20,height:20},colorInput:{width:80,height:30},fontInput:{width:320},widthSlider:{width:120},textarea:{width:"80%"},control:{padding:e.spacing(2)},selected:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:"5px #33dd22 solid",borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",padding:5}}})),pe=!0;function de(e){var t=fe(),l=e.id,c=se((0,a.useState)(new Array({})[0]),2),g=c[0],b=c[1],y=se((0,a.useState)(new Array({})[0]),2),k=y[0],E=y[1],w=se((0,a.useState)(!1),2),C=w[0],S=w[1],Z=se((0,a.useState)(!1),2),A=Z[0],N=Z[1],L=se((0,a.useState)(new Array),2),V=L[0],j=L[1],I=se((0,a.useState)(!1),2),O=I[0],R=I[1],M=se((0,a.useState)(String()),2),T=M[0],F=M[1],$=se((0,a.useState)(!1),2),B=$[0],D=$[1],z=se((0,a.useState)("error"),2),K=z[0],X=z[1],W=se((0,a.useState)(new Array(null)[0]),2),Q=W[0],me=W[1],de=se((0,a.useState)(new Array(null)[0]),2),ve=de[0],he=de[1],ge=se((0,a.useState)(new Array),2),be=ge[0],ye=ge[1],ke=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,l=i.join("-"),c=(i.length,Object.assign({},a.properties||{},{className:a===k?t.selected:null})),u=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),E(a)};switch(n){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"div":e=r().createElement("div",ue({key:l,onClick:u},c),o);break;case"p":e=r().createElement("p",ue({key:l,onClick:u},c),o);break;case"button":e=r().createElement("button",ue({key:l,onClick:u},c),o);break;case"span":e=r().createElement("span",ue({key:l,onClick:u},c),o);break;case"a":delete c.href,e=r().createElement("a",ue({key:l,onClick:u},c),o);break;case"br":e=r().createElement("div",ue({key:l,onClick:u},c),"<br/>");break;case"img":e=r().createElement("img",ue({key:l,onClick:u},c));break;default:e=o}return e},xe=function e(t,n){if(n!==t)if((0,q.kJ)(t.items)){var a=t.items;if(n===a)return{parent:t,key:"items"};for(var r=0;r<a.length;r++){var o=a[r];if(n===o)return{parent:a,key:r};var i=e(o,n);if(i)return i}}else if((0,q.sO)(t.data)){var l=t.data;return n===l?{parent:t,key:"data"}:e(l,n)}return null},Ee=function e(t){var n=xe(g,t);if(n){var a=n.parent,r=n.key;(0,q.sO)(a)?E(a):(0,q.kJ)(a)&&(r>0?E(a[r-1]):e(a))}},we=function(e,t){var n,a;return(0,q.kJ)(e)?n=e:(0,q.sO)(e)?(a=Object.assign({},e.data),(n=e.items||(e.items=[])).push(a),delete e.data):(a={tagName:t.tagName,content:t.content},(n=e.items||(e.items=[])).push(a),delete t.content),n},Ce=function(){var e,t=l;if(!t){var a=window.location.pathname.split("/");t=a[a.length-1]}(e=regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(8199)("./".concat(t,".json"));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){ce(o,a,r,i,l,"next",e)}function l(e){ce(o,a,r,i,l,"throw",e)}i(void 0)}))})().then((function(e){b(e)})).catch((function(e){(0,q.U2)("upload/json/".concat(t,".json?r=").concat(Math.random())).then((function(e){b(e||{}),F("".concat(t))})).catch((function(e){pe&&b({tagName:"div",items:[{tagName:"button",content:"点击新增元素"}]})}))}))},Se=function(){(0,q.v_)("auth/resources/img/list",{page:1,limit:200}).then((function(e){pe&&j(e.items||[])})).catch((function(e){pe&&j([])}))};(0,a.useEffect)((function(){return pe=!0,Ce(),Se(),function(){pe=!1}}),[l]),document.onkeydown=function(e){k&&(16===e.keyCode&&S(!0))},document.onkeyup=function(e){if(k){var t=e.keyCode;38===t?function(e){var t=xe(g,e);if(t){var n=t.parent,a=t.key;if(C){var r=(0,q.Xh)(e);n.splice(a,0,r),E(r)}else(0,q.kJ)(n)&&a>0&&(n[a]=n[a-1],n[a-1]=e,N(!A))}}(k):40===t?function(e){var t=xe(g,e);if(t){var n=t.parent,a=t.key;if(C){var r=(0,q.Xh)(e);n.splice(a+1,0,r),E(r)}else(0,q.kJ)(n)&&n.length-1>a&&(n[a]=n[a+1],n[a+1]=e,N(!A))}}(k):37===t?Ee(k):39===t?function(e){var t=xe(g,e);if(t){var n=t.parent,a=t.key;(0,q.kJ)(n)&&(a<n.length-1?E(n[a+1]):(0,q.sO)(e.data)?E(e.data):(0,q.kJ)(e.items)&&e.items.length>0&&E(e.items[0]))}}(k):16===t?S(!1):8===t&&function(e,t){var n=xe(e,t);if(n){var a=n.parent,r=n.key;if((0,q.kJ)(a))if(a.splice(r,1),a.length>0)E(a[Math.min(r,a.length-1)]);else{var o=xe(e,a);E(o?o.parent:g||{})}else delete a[r],E(a);N(!A)}else{var i=0;for(var l in e)++i;i>0&&(b({}),E({}))}}(g,k)}};var Ze=function(e){var t=k.properties=k.properties||{},n=t.style=t.style||{};t.style=e?Object.assign({},n,e):{},N(!A)};return r().createElement(J.Z,{component:"span",m:1},r().createElement(_.Z,{anchorOrigin:{vertical:"top",horizontal:"right"},open:B,autoHideDuration:6e3,onClose:function(e,t){"clickaway"!==t&&D(!1)},message:K,action:r().createElement(r().Fragment,null,r().createElement("img",{src:oe.Z,onClick:function(){D(!1)},className:t.closeIcon}))}),r().createElement(H.Z,{className:t.backdrop,open:O,onClick:function(){R(!1)}},r().createElement(U.Z,{color:"inherit"})),r().createElement("form",{className:t.form,noValidate:!0,autoComplete:"off"},function(e){var n,a=(e.properties||{}).style||{},l=(a.fontFamily||"").split(",").map((function(e){return e.trim()})).filter((function(e){return!(0,q.fp)(e)})),c=[];return c.push(r().createElement(u.Z,{key:"control-file",component:"fieldset"},r().createElement(s.Z,{component:"legend"},"文件"),r().createElement("div",{className:t.flexLine},function(e,t){var n=[];return e&&n.push({label:"更新",eventCallback:function(){e&&(0,q.uz)("auth/resources/json/update",{id:e,data:t}).then((function(e){D(!0),X("更新成功")}))}}),n.push.apply(n,[{label:"保存",eventCallback:function(){(0,q.uz)("auth/resources/json/save",t).then((function(e){D(!0),X("保存成功")}))}},{label:"选择图片",eventCallback:function(){if(Q)Q.click();else{var e=document.createElement("input");e.setAttribute("accept","image/*"),e.setAttribute("display","none"),e.setAttribute("multiple","true"),e.setAttribute("type","file"),e.addEventListener("change",(function(e){for(var t=e.currentTarget.files,n=[],a=0;a<t.length;a++)n.push({fileName:t[a].name});ye(n)})),me(e),e.click()}}},{label:"上传",eventCallback:function(){var e=Q.files;if(e.length<=0)D(!0),X("请选择图片");else{var t=new FormData;e.forEach((function(e){t.append("file",e)})),t.append("other","666666"),R(!0),(0,q.ws)("upload/resources/img/upload",t).then((function(e){ye([]),Se(),Q.remove(),R(!1)}))}}},{label:"选择文件",eventCallback:function(){if(ve)Q.click();else{var e=document.createElement("input");e.setAttribute("display","none"),e.setAttribute("multiple","true"),e.setAttribute("type","file"),e.addEventListener("change",(function(e){for(var t=e.currentTarget.files,n=[],a=0;a<t.length;a++)n.push({fileName:t[a].name});ye(n)})),he(e),e.click()}}},{label:"上传",eventCallback:function(){var e=ve.files;if(e.length<=0)D(!0),X("请选择文件");else{var t=new FormData;e.forEach((function(e){t.append("file",e)})),t.append("other","666666"),R(!0),(0,q.ws)("upload/resources/file/upload",t).then((function(e){ye([]),Se(),ve.remove(),R(!1)}))}}}]),n}(T,g).map((function(e,n){return r().createElement(m.Z,{key:"file-control-button-".concat(n),style:T?{}:{display:"none"},variant:"outlined",color:"secondary",component:"span",className:(0,x.Z)(t.editIcon,t.formMarginRight),onClick:e.eventCallback},e.label)})).concat(r().createElement(f.Z,{key:"img-file-list",dense:!0},be.map((function(e,t){return r().createElement(p.Z,{key:"file-".concat(t)},r().createElement(d.Z,{primary:e.fileName,secondary:"图片".concat(t)}))}))))))),c.push(r().createElement(u.Z,{key:"control-format",component:"fieldset"},r().createElement(s.Z,{component:"legend"},"格式"),r().createElement("div",{className:t.flexLine},(n=[],n.push.apply(n,[{icon:re,alt:"清空",eventCallback:function(e){Ze(null)}},{icon:te,alt:"左对齐",eventCallback:function(e){Ze({display:"flex",justifyContent:"flex-start"})}},{icon:ne,alt:"居中",eventCallback:function(e){Ze({display:"flex",justifyContent:"center"})}},{icon:ae,alt:"右对齐",eventCallback:function(e){Ze({display:"flex",justifyContent:"flex-end"})}}]),n).map((function(e,n){return r().createElement(v.Z,{key:"format-icon-button-".concat(n),className:t.editIconButton,color:"primary",component:"span",onClick:e.eventCallback},r().createElement("img",{src:e.icon,alt:e.alt}))})).concat(r().createElement(o.Z,{key:"format-icon-button-font-family",label:"字体",multiple:!0,className:(0,x.Z)(t.formMarginRight,t.colorInput),value:l,onChange:function(e){Ze({fontFamily:e.target.value.join(",")})}},le.map((function(e,t){return r().createElement(i.Z,{key:"data['value']-".concat(t),value:e.value},e.label)})))).concat(r().createElement(h.Z,{key:"format-icon-button-font-color",label:"字体颜色",size:"small",type:"color",variant:"outlined",className:(0,x.Z)(t.formMarginRight,t.colorInput),value:a.color||"#111111",onChange:function(e){Ze({color:e.target.value})}})).concat(r().createElement(h.Z,{key:"format-icon-button-background-color",label:"背景颜色",size:"small",type:"color",variant:"outlined",className:(0,x.Z)(t.formMarginRight,t.colorInput),value:a.backgroundColor||"#ffffff",onChange:function(e){Ze({backgroundColor:e.target.value})}})).concat(ie.map((function(e,n){var o=e.propertiesKey,i=(0,q.$U)(a[o],0),l=e.symbolString,c=e.minValue,u=e.maxValue,s=e.label,m=(u+c)/2;return r().createElement(P,{key:"".concat(o,"-").concat(n),className:(0,x.Z)(t.formMarginRight50,t.widthSlider),value:i,max:u,marks:[{value:c,label:"".concat(c).concat(l)},{value:m,label:s},{value:u,label:"".concat(u).concat(l)}],onChange:function(e,t){var n={};n[o]="".concat(t).concat(l),Ze(n)}})})))))),c}(k),r().createElement(u.Z,{component:"fieldset"},r().createElement(s.Z,{component:"legend"},"编辑"),r().createElement("div",{className:t.flexLine},[r().createElement(h.Z,{key:"control-content",label:"内容",size:"small",variant:"outlined",value:k.content||"",multiline:!0,className:t.textarea,rows:5,onChange:function(e){k.content=e.currentTarget.value,N(!A)}}),r().createElement(h.Z,{key:"control-link",label:"跳转链接",size:"small",variant:"outlined",value:(k.properties||{}).href||"",className:t.textarea,onChange:function(e){(k.properties=k.properties||{}).href=e.currentTarget.value,N(!A)}}),r().createElement(o.Z,{key:"control-img-src",value:(k.properties||{}).src||"",className:t.textarea,onChange:function(e){(k.properties=k.properties||{}).src=e.target.value,N(!A)}},V.map((function(e){return r().createElement(i.Z,{key:e,value:e},r().createElement("img",{src:e,alt:"图片",style:{height:80}}))})))].concat(["h1","h2","h3","h4","h5","h6","div","p","img","span","a","button"].map((function(e,n){return r().createElement(m.Z,{key:"".concat(n),variant:"contained",color:"primary",component:"span",className:(0,x.Z)(t.editIcon,t.formMarginRight,t.marginVertical),onClick:function(){!function(e,t){var n=xe(g,e);if(n){var a=n.parent,r=n.key;we(a,e).splice(r+1,0,t),E(t)}}(k,{tagName:e,content:e})}},e)})))))),r().createElement(G.Z,{container:!0,justifyContent:"center",className:t.root,spacing:2},r().createElement(G.Z,{item:!0,xs:6},r().createElement(Y.Z,{className:t.control},function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t=(0,q.kJ)(n.items)?(n.items||[]).map((function(t,n){return e(t,a.concat("items").concat(String(n)))})):(0,q.sO)(n.data)?e(n.data||{},a.concat("data")):n.content,ke((n.tagName||"").toLowerCase(),n,t,a)}(g))),r().createElement(G.Z,{item:!0,xs:6},r().createElement(Y.Z,{className:t.control},(0,q.fp)(g)?r().createElement("span",null,"no data..."):r().createElement(ee,{json:g})))))}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ge(){var e=ve((0,a.useState)(new Array),2),t=e[0],n=e[1],c=ve((0,a.useState)(""),2),u=c[0],s=c[1],m=ve((0,a.useState)({}),2);m[0],m[1];return(0,a.useEffect)((function(){(0,q.v_)("auth/resources/json/list",{page:1,limit:2e4}).then((function(e){var t=e.items||[];n(t),t.length>0&&!u&&s(t[0])}))}),["html"]),r().createElement("div",null,"选择模板：",r().createElement(o.Z,{key:"format-icon-button-font-family",value:u,onChange:function(e){var t=e.target.value;s(t)}},t.map((function(e,t){return r().createElement(i.Z,{key:"".concat(e,"-").concat(t),value:e},e)}))),"        测试链接：",r().createElement(l.Z,{component:"button",variant:"body2",onClick:function(){window.open((0,q.Gr)("dynamic/".concat(u)))}},u),r().createElement("hr",null),u?r().createElement(de,{id:u}):null)}},6091:function(e,t,n){var a=n(7293),r=n(1361);e.exports=function(e){return a((function(){return!!r[e]()||"​᠎"!="​᠎"[e]()||r[e].name!==e}))}},3210:function(e,t,n){"use strict";var a=n(2109),r=n(3111).trim;a({target:"String",proto:!0,forced:n(6091)("trim")},{trim:function(){return r(this)}})},647:function(e){"use strict";e.exports=JSON.parse('[{"label":"宋体","value":"SimSun"},{"label":"黑体","value":"SimHei"},{"label":"微软雅黑","value":"Microsoft YaHei"},{"label":"微软正黑体","value":"Microsoft JhengHei"},{"label":"新宋体","value":"NSimSun"},{"label":"新细明体","value":"PMingLiU"},{"label":"标楷体","value":"DFKai-SB"},{"label":"仿宋","value":"FangSong"},{"label":"楷体","value":"KaiTi"},{"label":"仿宋_GB2312","value":"FangSong_GB2312"},{"label":"楷体_GB2312","value":"KaiTi_GB2312"}]')},892:function(e){"use strict";e.exports=JSON.parse('[{"label":"上（内边距）","propertiesKey":"paddingTop","symbolString":"px","minValue":0,"maxValue":100},{"label":"右（内边距）","propertiesKey":"paddingRight","symbolString":"px","minValue":0,"maxValue":100},{"label":"下（内边距）","propertiesKey":"paddingBottom","symbolString":"px","minValue":0,"maxValue":100},{"label":"左（内边距）","propertiesKey":"paddingLeft","symbolString":"px","minValue":0,"maxValue":100},{"label":"上（外边距）","propertiesKey":"marginTop","symbolString":"px","minValue":0,"maxValue":100},{"label":"右（外边距）","propertiesKey":"marginRight","symbolString":"px","minValue":0,"maxValue":100},{"label":"下（外边距）","propertiesKey":"marginBottom","symbolString":"px","minValue":0,"maxValue":100},{"label":"左（外边距）","propertiesKey":"marginLeft","symbolString":"px","minValue":0,"maxValue":100},{"label":"宽度","propertiesKey":"width","symbolString":"%","minValue":0,"maxValue":200},{"label":"字体大小","propertiesKey":"fontSize","symbolString":"px","minValue":0,"maxValue":100},{"label":"字体粗细","propertiesKey":"fontWeight","symbolString":"","minValue":0,"maxValue":200}]')},8199:function(e,t,n){var a={"./font-family.json":[647],"./menu.json":[3648,648],"./style.json":[892]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(r,3)}))}r.keys=function(){return Object.keys(a)},r.id=8199,e.exports=r}}]);