(self.webpackChunkwebpack_react=self.webpackChunkwebpack_react||[]).push([[592],{5348:function(e,t,n){"use strict";n.d(t,{Z:function(){return Y}});n(2526),n(1817),n(2165),n(2222),n(7327),n(9554),n(2772),n(6992),n(1249),n(7042),n(561),n(1539),n(8783),n(4747),n(3948);var a=n(3804),r=n.n(a),o=n(1120),l=n(2663),i=n(6083),c=n(9525),u=n(7212),s=n(6856),m=n(282),f=n(9895),p=n(6847),d=n(2302),g=n(9613),h=n(7394),y=n(8222),v=n(3258),b=n(234),k=n(553),E=n(9570),S=n(9693),Z=n(2318),C=n(6447),w=n(7812),x=n(8358),O=n(6010),A=n(3430),j=n(726),N=n(387),T=n(6851),I=n(6945),V=n(3908);var P=(0,o.Z)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:(0,S.$n)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{padding:e.spacing(2),flex:"1 1 100%"}}}));function R(e){var t,n,a,o=P(),l=e.title,i=e.numSelected,c=e.onSave,u=e.onUpdate,s=e.onDelete,m=e.onRefresh,f=e.onShow,p=e.onRelate,d=[];return i<=0?(d.push(r().createElement(Z.Z,{key:"tooltip-title",className:o.title,variant:"h6",id:"tableTitle",component:"div"},l)),d.push(r().createElement(C.ZP,{key:"tooltip-add",onClick:c,title:"新增"},r().createElement(w.Z,null,r().createElement(A.Z,null)))),d.push(r().createElement(C.ZP,{key:"tooltip-refresh",onClick:m,title:"刷新"},r().createElement(w.Z,null,r().createElement(j.Z,null))))):(d.push(r().createElement(Z.Z,{key:"select-title",className:o.title,color:"inherit",variant:"subtitle1",component:"div"},i," 条记录被选中")),1===i&&(d.push(r().createElement(C.ZP,{key:"tooltip-update",onClick:u,title:"更新"},r().createElement(w.Z,null,r().createElement(N.Z,null)))),d.push(r().createElement(C.ZP,{key:"tooltip-relate",onClick:p,title:"show"},r().createElement(w.Z,null,r().createElement(T.Z,null))))),d.push(r().createElement(C.ZP,{key:"tooltip-delete",onClick:s,title:"删除"},r().createElement(w.Z,null,r().createElement(I.Z,null))))),d.push(r().createElement(C.ZP,{key:"tooltip-show",onClick:f,title:"show"},r().createElement(w.Z,null,r().createElement(V.Z,null)))),r().createElement(x.Z,{className:(0,O.Z)(o.root,(t={},n=o.highlight,a=i>0,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t))},d)}var M=n(3750),B=n(7256);function z(e){var t=e.headCells,n=e.onSelectAllClick,a=e.order,o=e.orderBy,l=e.numSelected,i=e.rowCount,c=e.onRequestSort;return r().createElement(M.Z,null,r().createElement(h.Z,null,r().createElement(y.Z,{padding:"checkbox"},r().createElement(v.Z,{indeterminate:l>0&&l<i,checked:i>0&&l>=i,onChange:n})),t.map((function(e){return r().createElement(y.Z,{key:e.key,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:o===e.key&&a},r().createElement(B.Z,{active:o===e.key,direction:o===e.key?a:"asc",onClick:(t=e.key,function(e){c(e,t)})},e.label));var t}))))}var L=n(727),F=n(6657);function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var U,D=(0,o.Z)((function(e){return{form:{padding:e.spacing(0,3)}}}));function _(e){var t=D(),n=e.title,o=e.submitUri,u=e.forms,f=e.open,p=e.onClose,d=e.onSuccess,g=e.onError,h=J((0,a.useState)(!1),2),y=h[0],v=h[1];(0,a.useEffect)((function(){}),[u]);var b=function(e){e.preventDefault();for(var t=!0,n={},a=0;a<u.length;a++){var r=u[a];if(r.hasOwnProperty("validList"))r.validList;else{if(!r.value){r.error=!0,t=!1;break}r.error=!1}n[r.key]=r.value}t?(0,F.uz)(o,n).then((function(e){d(e)})).catch((function(e){g(e)})):v(!y)};return r().createElement(l.Z,{open:f,onClose:p},r().createElement(i.Z,null,n),r().createElement(c.Z,null,r().createElement("form",{onSubmit:b,className:t.form,noValidate:!0},u.map((function(e,t){var n=u[t],a=n.key,o=n.label,l=n.type||"text",i=n.helperText?n.helperText:"请填写正确的".concat(o);return r().createElement(L.Z,{key:a,size:"small",type:l,value:e.value||"",onChange:function(t){e.value=t.currentTarget.value,v(!y)},variant:"outlined",margin:"normal",fullWidth:!0,label:o,autoFocus:0===t,error:e.error,helperText:e.error?i:""})})))),r().createElement(s.Z,null,r().createElement(m.Z,{onClick:p,color:"primary"},"取消"),r().createElement(m.Z,{onClick:b,color:"primary"},"提交")))}!function(e){e.DESC="desc",e.ASC="asc"}(U||(U={}));var H=n(6912),$=n(3293);function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var W=(0,o.Z)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750}}})),X={messageOpen:!1,message:"ok",messageType:"success"};function Y(e){var t=W(),n=e.headCells,o=e.form,S=G((0,a.useState)(!1),2),Z=S[0],C=S[1],w=G((0,a.useState)(X),2),x=w[0],O=w[1],A=G((0,a.useState)((0,F.d9)((o||{}).uri||{})),2),j=A[0],N=A[1],T=G((0,a.useState)([0]),2),I=T[0],V=T[1],P=G((0,a.useState)((o||{}).forms||[]),2),M=P[0],B=P[1],L=G((0,a.useState)(new Array),2),J=L[0],K=L[1],D=G((0,a.useState)(0),2),q=D[0],Y=D[1],Q=G((0,a.useState)(U.ASC),2),ee=Q[0],te=Q[1],ne=G((0,a.useState)(""),2),ae=ne[0],re=ne[1],oe=G((0,a.useState)(new Array),2),le=oe[0],ie=oe[1],ce=G((0,a.useState)(0),2),ue=ce[0],se=ce[1],me=G((0,a.useState)(!1),2),fe=me[0],pe=me[1],de=G((0,a.useState)(5),2),ge=de[0],he=de[1],ye=function(){O((0,F.TS)(x,{messageOpen:!1}))},ve=function(){(0,F.uz)(j.list,{}).then((function(e){var t=e.data||{},n=t.items||[];0===t.code&&(Y(n.length),K(n),O({messageOpen:!0,message:"查询成功",messageType:"success"}))}))},be=function(e){var t=(0,F.d9)(I).concat(e);t.length>5&&t.splice(0,t.length-5),V(t)},ke=function(e){return-1!==le.indexOf(Ee(e))},Ee=function(e){var t=n.filter((function(e){return e.primary})).map((function(t){return e[t.key]}));return 0===t.length&&(t=e[n[0].key]),JSON.stringify(t)},Se=ge-Math.min(ge,q-ue*ge),Ze=I[I.length-1];return(0,a.useEffect)((function(){ve(),N((0,F.d9)((o||{}).uri||{})),B((0,F.d9)((o||{}).forms||[]))}),[o]),r().createElement("div",{className:t.root},r().createElement(H.Z,{open:x.messageOpen,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:6e3,onClose:ye},r().createElement($.Z,{onClose:ye,elevation:6,variant:"filled",severity:x.messageType},x.message||"ok")),r().createElement(l.Z,{open:Z,onClose:function(){C(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r().createElement(i.Z,{id:"alert-dialog-title"},"注意！！！"),r().createElement(c.Z,null,r().createElement(u.Z,{id:"alert-dialog-description"},"确认删除吗？")),r().createElement(s.Z,null,r().createElement(m.Z,{onClick:function(){C(!1)},color:"primary"},"关闭"),r().createElement(m.Z,{onClick:function(){var e=J.filter((function(e){return ke(e)}));e.length>0&&(0,F.uz)(j.delete,e).then((function(e){var t=e.data;0===t.code&&(t.items.filter((function(e){for(var t=0;t<J.length;t++)if(Ee(e)===Ee(J[t])){J.splice(t,1);break}})),ie([]),C(!1),O({messageOpen:!0,message:"删除成功",messageType:"success"}))}))},color:"secondary",autoFocus:!0},"确定"))),r().createElement(f.Z,{className:t.paper},r().createElement(R,{title:"用户",numSelected:le.length,onSave:function(){B(M.map((function(e){var t=(0,F.d9)(e);return t.value=void 0,t}))),be(1)},onUpdate:function(){J.forEach((function(e){ke(e)&&B(M.map((function(t){var n=(0,F.d9)(t);return n.value=e[t.key],n})))})),be(2)},onDelete:function(){C(!0)},onRefresh:ve,onShow:function(){var e;(e=(0,F.d9)(I)).length>0?(e.splice(e.length-1),V(e)):V([0])},onRelate:function(){J.forEach((function(e){ke(e)&&B(M.map((function(t){var n=(0,F.d9)(t);return n.value=e[t.key],n})))})),be(3)}}),r().createElement(p.Z,null,r().createElement(d.Z,{className:t.table,"aria-labelledby":"tableTitle",size:fe?"medium":"small","aria-label":"enhanced table"},r().createElement(z,{headCells:n,numSelected:le.length,order:ee,orderBy:ae,onSelectAllClick:function(e){e.target.checked?ie(J.map((function(e){return Ee(e)}))):ie([])},onRequestSort:function(e,t){var n=ae===t&&ee===U.ASC;te(n?U.DESC:U.ASC),re(t)},rowCount:J.length}),r().createElement(g.Z,null,J.sort((function(e,t){if(ae&&ee){var n=(0,F.qu)(e[ae],t[ae]);return"asc"===ee?n:-1*n}return 0})).map((function(e,t){var a=ke(e),o="enhanced-table-checkbox-".concat(t);return r().createElement(h.Z,{hover:!0,onClick:function(t){return function(e,t){var n=Ee(t),a=le.indexOf(n);ie(a<0?[n].concat(le):le.slice(0,a).concat(le.slice(a+1)))}(0,e)},role:"checkbox",tabIndex:-1,"aria-checked":a,key:o,selected:a},n.map((function(n){var l=n.key;if(n.checkbox){var i=[];return i.push(r().createElement(y.Z,{key:"row-checkbox-"+t,padding:"checkbox"},r().createElement(v.Z,{checked:a,inputProps:{"aria-labelledby":o}}))),i.push(r().createElement(y.Z,{key:"row-"+l+"-"+t,component:"th",id:o,scope:"row",padding:"none"},e[l])),i}return r().createElement(y.Z,{key:"row-"+l+"-"+t,align:n.numeric?"right":"left"},e[l])})))})),Se>0&&r().createElement(h.Z,{style:{height:(fe?33:53)*Se}},r().createElement(y.Z,{colSpan:6}))))),r().createElement(b.Z,{component:"div",rowsPerPageOptions:[5,10,25],count:q,rowsPerPage:ge,page:ue,onRowsPerPageChange:function(e){he(parseInt(e.target.value,10)),se(0)},onPageChange:function(e,t){se(t)}})),r().createElement(k.Z,{control:r().createElement(E.Z,{color:"default",checked:fe,onChange:function(e){pe(e.target.checked)}}),label:"大尺寸"}),M&&j.save&&j.update?r().createElement(_,{title:1===Ze?"保存":"更新",submitUri:1===Ze?j.save:j.update,forms:M,open:Ze>0,onClose:function(){be(0)},onSuccess:function(e){if(0===(e.data||{}).code){var t=e.data.data,n=J.map((function(e){return ke(e)?(!1,t):e}));1===Ze?(n.push(t),O({messageOpen:!0,message:"保存成功",messageType:"success"})):O({messageOpen:!0,message:"更新成功",messageType:"success"}),K(n),be(0)}else O(1===Ze?{messageOpen:!0,message:"保存失败",messageType:"error"}:{messageOpen:!0,message:"更新失败",messageType:"error"})},onError:function(e){be(0),O(1===Ze?{messageOpen:!0,message:"保存失败",messageType:"error"}:{messageOpen:!0,message:"更新失败",messageType:"error"})}}):null)}},7135:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return K}});n(2526),n(1817),n(2165),n(2222),n(7327),n(9554),n(6992),n(9600),n(1249),n(561),n(8309),n(9601),n(1539),n(8674),n(4916),n(8783),n(3123),n(3210),n(4747),n(3948),n(5666);var a=n(3804),r=n.n(a),o=n(1120),l=n(4436),i=n(6019),c=n(282),u=n(2822),s=n(998),m=n(5757),f=n(7812),p=n(8727),d=n(5639),g=n(727),h=n(4845),y=n(1337),v=n(6912),b=n(2692),k=n(5477),E=n(1749),S=n(9895),Z=n(6010),C=n(6657),w=n(3472),x=n.p+"img/20220714/align-left.svg",O=n.p+"img/20220714/align-center.svg",A=n.p+"img/20220714/align-right.svg",j=n.p+"img/20220714/clear-all.svg",N=n(1398),T=n(892),I=n(647),V=n(5697),P=n.n(V);function R(e,t,n,a,r,o,l){try{var i=e[o](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,r)}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var L=(0,o.Z)((function(e){return{root:{flexGrow:1,marginTop:230},form:{backgroundColor:"rgba(255,255,255,0.9)",position:"fixed",width:"100%",margin:10,maxHeight:230,overflowY:"scroll","& > *":{margin:e.spacing(1)},borderBottom:"1px solid #ee2211"},flexLine:{display:"flex;",alignItems:"center",justifyContent:"space-between",alignContent:"space-between",flexFlow:"row wrap"},flexItem:{display:"inline-block"},editIcon:{height:30,minHeight:30},editIconButton:{"& img":{width:15,height:15}},marginVertical:{marginTop:10,marginBottom:10},formMarginRight:{marginRight:e.spacing(1)},formMarginRight50:{marginRight:50},formMarginBottom:{marginBottom:10},styleLine:{display:"flex",alignItems:"center",justifyContent:"left"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},closeIcon:{width:20,height:20},colorInput:{width:80,height:30},fontInput:{width:320},widthSlider:{width:120},textarea:{width:"80%"},control:{padding:e.spacing(2)},selected:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:"5px #33dd22 solid",borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",padding:5}}})),F=!0;function J(e){var t=L(),o=e.id,V=B((0,a.useState)(new Array({})[0]),2),P=V[0],z=V[1],J=B((0,a.useState)(new Array({})[0]),2),K=J[0],U=J[1],D=B((0,a.useState)(!1),2),_=D[0],H=D[1],$=B((0,a.useState)(!1),2),G=$[0],q=$[1],W=B((0,a.useState)(new Array),2),X=W[0],Y=W[1],Q=B((0,a.useState)(!1),2),ee=Q[0],te=Q[1],ne=B((0,a.useState)(String()),2),ae=ne[0],re=ne[1],oe=B((0,a.useState)(!1),2),le=oe[0],ie=oe[1],ce=B((0,a.useState)("error"),2),ue=ce[0],se=ce[1],me=B((0,a.useState)(new Array(null)[0]),2),fe=me[0],pe=me[1],de=B((0,a.useState)(new Array(null)[0]),2),ge=de[0],he=de[1],ye=B((0,a.useState)(new Array),2),ve=ye[0],be=ye[1],ke=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3?arguments[3]:void 0,i=l.join("-"),c=(l.length,Object.assign({},a.properties||{},{className:a===K?t.selected:null})),u=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),U(a)};switch(n){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"div":e=r().createElement("div",M({key:i,onClick:u},c),o);break;case"p":e=r().createElement("p",M({key:i,onClick:u},c),o);break;case"button":e=r().createElement("button",M({key:i,onClick:u},c),o);break;case"span":e=r().createElement("span",M({key:i,onClick:u},c),o);break;case"a":delete c.href,e=r().createElement("a",M({key:i,onClick:u},c),o);break;case"br":e=r().createElement("div",M({key:i,onClick:u},c),"<br/>");break;case"img":e=r().createElement("img",M({key:i,onClick:u},c));break;default:e=o}return e},Ee=function e(t,n){if(n!==t)if((0,C.kJ)(t.items)){var a=t.items;if(n===a)return{parent:t,key:"items"};for(var r=0;r<a.length;r++){var o=a[r];if(n===o)return{parent:a,key:r};var l=e(o,n);if(l)return l}}else if((0,C.sO)(t.data)){var i=t.data;return n===i?{parent:t,key:"data"}:e(i,n)}return null},Se=function e(t){var n=Ee(P,t);if(n){var a=n.parent,r=n.key;(0,C.sO)(a)?U(a):(0,C.kJ)(a)&&(r>0?U(a[r-1]):e(a))}},Ze=function(e,t){var n,a;return(0,C.kJ)(e)?n=e:(0,C.sO)(e)?(a=Object.assign({},e.data),(n=e.items||(e.items=[])).push(a),delete e.data):(a={tagName:t.tagName,content:t.content},(n=e.items||(e.items=[])).push(a),delete t.content),n},Ce=function(){var e,t=o;if(!t){var a=window.location.pathname.split("/");t=a[a.length-1]}(e=regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(8199)("./".concat(t,".json"));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function l(e){R(o,a,r,l,i,"next",e)}function i(e){R(o,a,r,l,i,"throw",e)}l(void 0)}))})().then((function(e){z(e)})).catch((function(e){(0,C.U2)("upload/json/".concat(t,".json?r=").concat(Math.random())).then((function(e){z(e.data||{}),re("".concat(t))})).catch((function(e){F&&z({tagName:"div",items:[{tagName:"button",content:"点击新增元素"}]})}))}))},we=function(){(0,C.v_)("auth/resources/img/list",{page:1,limit:200}).then((function(e){F&&Y((e.data||{}).items||[])})).catch((function(e){F&&Y([])}))};(0,a.useEffect)((function(){return console.log("use effect, ".concat(o)),F=!0,Ce(),we(),function(){F=!1}}),[o]);var xe=function(e,t,n){var a=e.data;ie(!0),0===a.code?se(t):se("".concat(a.code)),n(a)};document.onkeydown=function(e){if(K){var t=e.keyCode;console.log("down vvv keyCode: ".concat(t)),16===t&&H(!0)}},document.onkeyup=function(e){if(K){var t=e.keyCode;console.log("up AAA keyCode: ".concat(t)),38===t?function(e){var t=Ee(P,e);if(t){var n=t.parent,a=t.key;if(_){var r=(0,C.Xh)(e);n.splice(a,0,r),U(r)}else(0,C.kJ)(n)&&a>0&&(n[a]=n[a-1],n[a-1]=e,q(!G))}}(K):40===t?function(e){var t=Ee(P,e);if(t){var n=t.parent,a=t.key;if(_){var r=(0,C.Xh)(e);n.splice(a+1,0,r),U(r)}else(0,C.kJ)(n)&&n.length-1>a&&(n[a]=n[a+1],n[a+1]=e,q(!G))}}(K):37===t?Se(K):39===t?function(e){var t=Ee(P,e);if(t){var n=t.parent,a=t.key;(0,C.kJ)(n)&&(a<n.length-1?U(n[a+1]):(0,C.sO)(e.data)?U(e.data):(0,C.kJ)(e.items)&&e.items.length>0&&U(e.items[0]))}}(K):16===t?H(!1):8===t&&function(e,t){var n=Ee(e,t);if(n){var a=n.parent,r=n.key;if((0,C.kJ)(a))if(a.splice(r,1),a.length>0)U(a[Math.min(r,a.length-1)]);else{var o=Ee(e,a);U(o?o.parent:P||{})}else delete a[r],U(a);q(!G)}else{var l=0;for(var i in e)++l;l>0&&(z({}),U({}))}}(P,K)}};var Oe=function(e){var t=K.properties=K.properties||{},n=t.style=t.style||{};t.style=e?Object.assign({},n,e):{},q(!G)};return r().createElement(y.Z,{component:"span",m:1},r().createElement(v.Z,{anchorOrigin:{vertical:"top",horizontal:"right"},open:le,autoHideDuration:6e3,onClose:function(e,t){"clickaway"!==t&&ie(!1)},message:ue,action:r().createElement(r().Fragment,null,r().createElement("img",{src:N.Z,onClick:function(){ie(!1)},className:t.closeIcon}))}),r().createElement(b.Z,{className:t.backdrop,open:ee,onClick:function(){te(!1)}},r().createElement(k.Z,{color:"inherit"})),r().createElement("form",{className:t.form,noValidate:!0,autoComplete:"off"},function(e){var n,a=(e.properties||{}).style||{},o=(a.fontFamily||"").split(",").map((function(e){return e.trim()})).filter((function(e){return!(0,C.fp)(e)})),y=[];return y.push(r().createElement(l.Z,{key:"control-file",component:"fieldset"},r().createElement(i.Z,{component:"legend"},"文件"),r().createElement("div",{className:t.flexLine},function(e,t){var n=[];return e&&n.push({label:"更新",eventCallback:function(){e&&(0,C.uz)("auth/resources/json/update",{id:e,data:t}).then((function(e){xe(e,"更新成功",(function(e){ie(!0)}))}))}}),n.push.apply(n,[{label:"保存",eventCallback:function(){(0,C.uz)("auth/resources/json/save",t).then((function(e){xe(e,"保存成功",(function(e){ie(!0)}))}))}},{label:"选择图片",eventCallback:function(){if(fe)fe.click();else{var e=document.createElement("input");e.setAttribute("accept","image/*"),e.setAttribute("display","none"),e.setAttribute("multiple","true"),e.setAttribute("type","file"),e.addEventListener("change",(function(e){for(var t=e.currentTarget.files,n=[],a=0;a<t.length;a++)n.push({fileName:t[a].name});be(n)})),pe(e),e.click()}}},{label:"上传",eventCallback:function(){var e=fe.files;if(e.length<=0)ie(!0),se("请选择图片");else{var t=new FormData;e.forEach((function(e){t.append("file",e)})),t.append("other","666666"),te(!0),(0,C.ws)("auth/resources/img/upload",t).then((function(e){200===e.status&&(be([]),we(),fe.remove()),setTimeout((function(){te(!1)}),1e3)}))}}},{label:"选择文件",eventCallback:function(){if(ge)fe.click();else{var e=document.createElement("input");e.setAttribute("display","none"),e.setAttribute("multiple","true"),e.setAttribute("type","file"),e.addEventListener("change",(function(e){for(var t=e.currentTarget.files,n=[],a=0;a<t.length;a++)n.push({fileName:t[a].name});be(n)})),he(e),e.click()}}},{label:"上传",eventCallback:function(){var e=ge.files;if(e.length<=0)ie(!0),se("请选择文件");else{var t=new FormData;e.forEach((function(e){t.append("file",e)})),t.append("other","666666"),te(!0),(0,C.ws)("auth/resources/file/upload",t).then((function(e){200===e.status&&(be([]),we(),ge.remove()),setTimeout((function(){te(!1)}),1e3)}))}}}]),n}(ae,P).map((function(e,n){return r().createElement(c.Z,{key:"file-control-button-".concat(n),style:ae?{}:{display:"none"},variant:"outlined",color:"secondary",component:"span",className:(0,Z.Z)(t.editIcon,t.formMarginRight),onClick:e.eventCallback},e.label)})).concat(r().createElement(u.Z,{key:"img-file-list",dense:!0},ve.map((function(e,t){return r().createElement(s.Z,{key:"file-".concat(t)},r().createElement(m.Z,{primary:e.fileName,secondary:"图片".concat(t)}))}))))))),y.push(r().createElement(l.Z,{key:"control-format",component:"fieldset"},r().createElement(i.Z,{component:"legend"},"格式"),r().createElement("div",{className:t.flexLine},(n=[],n.push.apply(n,[{icon:j,alt:"清空",eventCallback:function(e){Oe(null)}},{icon:x,alt:"左对齐",eventCallback:function(e){Oe({display:"flex",justifyContent:"flex-start"})}},{icon:O,alt:"居中",eventCallback:function(e){Oe({display:"flex",justifyContent:"center"})}},{icon:A,alt:"右对齐",eventCallback:function(e){Oe({display:"flex",justifyContent:"flex-end"})}}]),n).map((function(e,n){return r().createElement(f.Z,{key:"format-icon-button-".concat(n),className:t.editIconButton,color:"primary",component:"span",onClick:e.eventCallback},r().createElement("img",{src:e.icon,alt:e.alt}))})).concat(r().createElement(p.Z,{key:"format-icon-button-font-family",label:"字体",multiple:!0,className:(0,Z.Z)(t.formMarginRight,t.colorInput),value:o,onChange:function(e){Oe({fontFamily:e.target.value.join(",")})}},I.map((function(e,t){return r().createElement(d.Z,{key:"data['value']-".concat(t),value:e.value},e.label)})))).concat(r().createElement(g.Z,{key:"format-icon-button-font-color",label:"字体颜色",size:"small",type:"color",variant:"outlined",className:(0,Z.Z)(t.formMarginRight,t.colorInput),value:a.color||"#111111",onChange:function(e){Oe({color:e.target.value})}})).concat(r().createElement(g.Z,{key:"format-icon-button-background-color",label:"背景颜色",size:"small",type:"color",variant:"outlined",className:(0,Z.Z)(t.formMarginRight,t.colorInput),value:a.backgroundColor||"#ffffff",onChange:function(e){Oe({backgroundColor:e.target.value})}})).concat(T.map((function(e,n){var o=e.propertiesKey,l=(0,C.$U)(a[o],0),i=e.symbolString,c=e.minValue,u=e.maxValue,s=e.label,m=(u+c)/2;return r().createElement(h.Z,{key:"".concat(o,"-").concat(n),className:(0,Z.Z)(t.formMarginRight50,t.widthSlider),value:l,max:u,marks:[{value:c,label:"".concat(c).concat(i)},{value:m,label:s},{value:u,label:"".concat(u).concat(i)}],onChange:function(e,t){var n={};n[o]="".concat(t).concat(i),Oe(n)}})})))))),y}(K),r().createElement(l.Z,{component:"fieldset"},r().createElement(i.Z,{component:"legend"},"编辑"),r().createElement("div",{className:t.flexLine},[r().createElement(g.Z,{key:"control-content",label:"内容",size:"small",variant:"outlined",value:K.content||"",multiline:!0,className:t.textarea,rows:5,onChange:function(e){K.content=e.currentTarget.value,q(!G)}}),r().createElement(g.Z,{key:"control-link",label:"跳转链接",size:"small",variant:"outlined",value:(K.properties||{}).href||"",className:t.textarea,onChange:function(e){(K.properties=K.properties||{}).href=e.currentTarget.value,q(!G)}}),r().createElement(p.Z,{key:"control-img-src",value:(K.properties||{}).src||"",className:t.textarea,onChange:function(e){(K.properties=K.properties||{}).src=e.target.value,q(!G)}},X.map((function(e){return r().createElement(d.Z,{key:e,value:e},r().createElement("img",{src:e,alt:"图片",style:{height:80}}))})))].concat(["h1","h2","h3","h4","h5","h6","div","p","img","span","a","button"].map((function(e,n){return r().createElement(c.Z,{key:"".concat(n),variant:"contained",color:"primary",component:"span",className:(0,Z.Z)(t.editIcon,t.formMarginRight,t.marginVertical),onClick:function(){!function(e,t){var n=Ee(P,e);if(n){var a=n.parent,r=n.key;Ze(a,e).splice(r+1,0,t),U(t)}else console.log("not found...")}(K,{tagName:e,content:e})}},e)})))))),r().createElement(E.Z,{container:!0,justify:"center",className:t.root,spacing:2},r().createElement(E.Z,{item:!0,xs:6},r().createElement(S.Z,{className:t.control},function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t=(0,C.kJ)(n.items)?(n.items||[]).map((function(t,n){return e(t,a.concat("items").concat(String(n)))})):(0,C.sO)(n.data)?e(n.data||{},a.concat("data")):n.content,ke((n.tagName||"").toLowerCase(),n,t,a)}(P))),r().createElement(E.Z,{item:!0,xs:6},r().createElement(S.Z,{className:t.control},(0,C.fp)(P)?r().createElement("span",null,"no data..."):r().createElement(w.default,{json:P})))))}J.propTypes={id:P().string};var K=J},3472:function(e,t,n){"use strict";n.r(t);n(2526),n(1817),n(2165),n(2222),n(6992),n(9600),n(1249),n(1539),n(4916),n(8783),n(3123),n(3948);var a=n(3804),r=n.n(a),o=n(5697),l=n.n(o),i=n(6657);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function m(e){var t=e.json,n=u((0,a.useState)(window.PCH_SCOPE_HTML_JSON||{}),2),o=n[0],l=n[1];(0,a.useEffect)((function(){if((0,i.fp)(t)){console.log("query json from server...");var e=window.location.pathname.split("/"),n=e[e.length-1];(0,i.U2)("upload/json/".concat(n,".json?r=").concat(Math.random())).then((function(e){200===e.status&&l(e.data)})).catch((function(e){l({tagName:"div",items:[{tagName:"h3",content:"ops"},{tagName:"p",properties:{style:{color:"#ee2222",margin:0,padding:0,paddingTop:100,fontSize:"14px",paddingBottom:100,fontFamily:"微软雅黑, Arial, sans-serif"}},content:"该页面不存在"}]})}))}else l(t)}),[t]);var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0,o=a.join("-"),l=t.properties||{};switch(e){case"h1":return r().createElement("h1",c({key:o},l),n);case"h2":return r().createElement("h2",c({key:o},l),n);case"h3":return r().createElement("h3",c({key:o},l),n);case"h4":return r().createElement("h4",c({key:o},l),n);case"h5":return r().createElement("h5",c({key:o},l),n);case"h6":return r().createElement("h6",c({key:o},l),n);case"div":return r().createElement("div",c({key:o},l),n);case"p":return r().createElement("p",c({key:o},l),n);case"button":return r().createElement("button",c({key:o},l),n);case"span":return r().createElement("span",c({key:o},l),n);case"a":return r().createElement("a",c({key:o},l),n);case"br":return r().createElement("br",c({key:o},l));case"img":var i=l.alt;return delete l.alt,r().createElement("img",c({alt:i||"图片",key:o},l));default:return n}};return r().createElement("div",null,function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t=(0,i.kJ)(n.items)?(n.items||[]).map((function(t,n){return e(t,a.concat("items").concat(String(n)))})):(0,i.sO)(n.data)?e(n.data||{},a.concat("data")):n.content,s((n.tagName||"").toLowerCase(),n,t,a)}(o))}m.propTypes={json:l().object},t.default=m},1398:function(e,t,n){"use strict";t.Z=n.p+"img/20220714/close.svg"},647:function(e){"use strict";e.exports=JSON.parse('[{"label":"宋体","value":"SimSun"},{"label":"黑体","value":"SimHei"},{"label":"微软雅黑","value":"Microsoft YaHei"},{"label":"微软正黑体","value":"Microsoft JhengHei"},{"label":"新宋体","value":"NSimSun"},{"label":"新细明体","value":"PMingLiU"},{"label":"标楷体","value":"DFKai-SB"},{"label":"仿宋","value":"FangSong"},{"label":"楷体","value":"KaiTi"},{"label":"仿宋_GB2312","value":"FangSong_GB2312"},{"label":"楷体_GB2312","value":"KaiTi_GB2312"}]')},892:function(e){"use strict";e.exports=JSON.parse('[{"label":"上（内边距）","propertiesKey":"paddingTop","symbolString":"px","minValue":0,"maxValue":100},{"label":"右（内边距）","propertiesKey":"paddingRight","symbolString":"px","minValue":0,"maxValue":100},{"label":"下（内边距）","propertiesKey":"paddingBottom","symbolString":"px","minValue":0,"maxValue":100},{"label":"左（内边距）","propertiesKey":"paddingLeft","symbolString":"px","minValue":0,"maxValue":100},{"label":"上（外边距）","propertiesKey":"marginTop","symbolString":"px","minValue":0,"maxValue":100},{"label":"右（外边距）","propertiesKey":"marginRight","symbolString":"px","minValue":0,"maxValue":100},{"label":"下（外边距）","propertiesKey":"marginBottom","symbolString":"px","minValue":0,"maxValue":100},{"label":"左（外边距）","propertiesKey":"marginLeft","symbolString":"px","minValue":0,"maxValue":100},{"label":"宽度","propertiesKey":"width","symbolString":"%","minValue":0,"maxValue":200},{"label":"字体大小","propertiesKey":"fontSize","symbolString":"px","minValue":0,"maxValue":100},{"label":"字体粗细","propertiesKey":"fontWeight","symbolString":"","minValue":0,"maxValue":200}]')}}]);