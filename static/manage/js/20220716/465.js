(self.webpackChunkwebpack_react=self.webpackChunkwebpack_react||[]).push([[465],{9465:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});n(2222),n(9554),n(6992),n(1249),n(8309),n(9601),n(1539),n(8783),n(4747),n(3948),n(285);var r=n(3804),a=n.n(r),l=n(1120),o=n(5117),c=n(110),i=n(5639),m=n(9803),u=n(702),s=n(2692),p=n(4588),f=n(1749),b=n(2598),y=n(9069),d=n(527),g=n(4436),h=n(6019),k=n(282),v=n(7812),E=n(3293),w=n(6657),Z=n(1398),C=n(1432),S=n.p+"img/20220716/laughing.svg",N=n(6010);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw l}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e){return a().createElement(E.Z,x({elevation:6,variant:"filled"},e))}var O=(0,l.Z)((function(e){var t;return(0,o.Z)({root:{"& > *":{margin:e.spacing(1)}},formRoot:{flexGrow:1},formSubmit:{display:"flex",alignItems:"center",justifyContent:"center"},input:{display:"none"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},closeIcon:{width:20,height:20},img:{width:"100%"},submitButton:{marginRight:e.spacing(12)},formControl:(t={},j(t,e.breakpoints.down("md"),{backgroundColor:"#dddddd",color:"rgba(13,42,114,0.28)"}),j(t,e.breakpoints.down("sm"),{backgroundColor:"rgba(176,206,133,0.28)",color:"rgba(68,17,99,0.28)"}),t)})}));function R(){var e=O(),t=A((0,r.useState)(new Array(null)[0]),2),n=t[0],l=t[1],o=A((0,r.useState)(new Array),2),E=o[0],L=o[1],j=A((0,r.useState)(!1),2),x=j[0],R=j[1],T=A((0,r.useState)(!1),2),I=T[0],U=T[1],z=A((0,r.useState)("error"),2),B=z[0],D=z[1],P=A((0,r.useState)(""),2),W=P[0],_=P[1],G=A((0,r.useState)(new Array({})[0]),2),H=G[0],M=G[1];(0,r.useEffect)((function(){(0,w.uz)("auth/tools/business/defaultConfig",{}).then((function(e){M((0,w.d9)(e.data))}))}),["init"]);var V=[{value:0,label:"常规"},{value:1,label:"加粗"}],$=function(e){var t=e.key,n=e.type,r=e.valueType||n,l=H[t],o="color"===n?"#000000":"number"===r?0:"";return l=("color"===n?"#".concat(l):l)||o,"select"===n?a().createElement(c.Z,{key:"".concat(e.key),value:l,onChange:function(e){H[t]=e.target.value,M((0,w.d9)(H))}},V.map((function(e,t){return a().createElement(i.Z,{key:"".concat(e.key,"-").concat(t),value:e.value},e.label)}))):a().createElement(m.Z,{key:"".concat(e.key),type:e.type,label:e.label,value:l,onChange:function(e){var r=e.target.value;H[t]="color"===n?r.substr(1):r,M((0,w.d9)(H))}})};return a().createElement("form",{className:(0,N.Z)(e.root,"form"),noValidate:!0,autoComplete:"off"},a().createElement(u.Z,{anchorOrigin:{vertical:"top",horizontal:"right"},open:I,autoHideDuration:6e3,onClose:function(e,t){"clickaway"!==t&&U(!1)},message:B,action:a().createElement(a().Fragment,null,a().createElement("img",{src:Z.Z,onClick:function(){U(!1)},className:e.closeIcon,alt:"图片"}))}),a().createElement(s.Z,{className:e.backdrop,open:x,onClick:function(){R(!1)},addEndListener:function(){}},a().createElement(p.Z,{color:"inherit"})),a().createElement(f.Z,{container:!0,justifyContent:"center",className:e.formRoot,spacing:2},a().createElement(b.Z,{mdDown:!0},a().createElement(f.Z,{item:!0,md:1,lg:1},a().createElement(y.Z,{avatar:a().createElement(d.Z,null,a().createElement("img",{style:{width:30,height:30,backgroundColor:"rgb(201,176,50)"},src:S,alt:"Laughing"})),label:"hey!",clickable:!0,color:"primary"}))),a().createElement(f.Z,{item:!0,xs:12,sm:12,md:3,lg:3},a().createElement(g.Z,{component:"fieldset",className:e.formControl,fullWidth:!0},a().createElement(h.Z,{component:"legend"},"二维码"),[{key:"width",type:"number",label:"宽度"},{key:"height",type:"number",label:"宽度"},{key:"left",type:"number",label:"左边距"},{key:"top",type:"number",label:"上边距"}].map($))),a().createElement(f.Z,{item:!0,xs:12,sm:12,md:3,lg:3},a().createElement(g.Z,{component:"fieldset",className:e.formControl,fullWidth:!0},a().createElement(h.Z,{component:"legend"},"姓名"),[{key:"nameFontColor",type:"color",label:"颜色"},{key:"nameFontName",type:"text",label:"字体"},{key:"nameFontStyle",type:"select",valueType:"number",optionList:V,label:"字体样式"},{key:"nameFontSize",type:"number",label:"字体大小"},{key:"nameLeft",type:"number",label:"左边距"},{key:"nameTop",type:"number",label:"上边距"}].map($))),a().createElement(f.Z,{item:!0,xs:12,sm:12,md:3,lg:3},a().createElement(g.Z,{component:"fieldset",className:e.formControl,fullWidth:!0},a().createElement(h.Z,{component:"legend"},"描述"),[{key:"describeFontColor",type:"color",label:"颜色"},{key:"describeFontName",type:"text",label:"字体"},{key:"describeFontStyle",type:"select",valueType:"number",optionList:V,label:"字体样式"},{key:"describeFontSize",type:"number",label:"字体大小"},{key:"describeLeft",type:"number",label:"左边距"},{key:"describeTop",type:"number",label:"上边距"}].map($))),a().createElement(b.Z,{mdDown:!0},a().createElement(f.Z,{item:!0,md:2,lg:2},a().createElement(F,{severity:"info"},"美好的一天，从工作开始!"))),a().createElement(f.Z,{container:!0,justifyContent:"center",className:e.formRoot,spacing:2},a().createElement(f.Z,{item:!0,xs:12,className:e.formSubmit},a().createElement(k.Z,{className:e.submitButton,variant:"contained",color:"primary",component:"span",onClick:function(){(0,w.v_)("upload/tools/business/merge",{name:"姓名",describe:"部门",url:"https://www.baidu.com"},{responseType:"blob"}).then((function(e){var t=(window.URL||window.webkitURL).createObjectURL(new Blob([e],{type:"image/png"}));_(t),R(!1)})).catch((function(){R(!1)}))}},"查看"),a().createElement(g.Z,{component:"fieldset"},a().createElement(h.Z,{component:"legend"},"背景图"),a().createElement(v.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){if(n)n.click();else{var e=document.createElement("input");e.setAttribute("accept","image/*"),e.setAttribute("display","none"),e.setAttribute("multiple","true"),e.setAttribute("type","file"),e.addEventListener("change",(function(e){for(var t=e.currentTarget.files,n=[],r=0;r<t.length;r++)n.push({fileName:t[r].name});L(n)})),l(e),e.click()}}},a().createElement("img",{src:C.Z,alt:"Photo",className:"file-icon"})),a().createElement("ul",null,E.map((function(e){return a().createElement("li",{key:e.fileName},e.fileName)})))),E&&E.length>=0?a().createElement(k.Z,{variant:"contained",color:"secondary",component:"span",onClick:function(){var e=n.files;if(e.length<=0)U(!0),D("请选择图片");else{var t=new FormData;for(var r in e.forEach((function(e){t.append("file",e)})),H)t.append(r,H[r]);R(!0),(0,w.ws)("upload/tools/business/editTemplate",t,{responseType:"blob"}).then((function(e){var t=(window.URL||window.webkitURL).createObjectURL(new Blob([e],{type:"image/png"}));_(t),R(!1)})).catch((function(){R(!1)}))}}},"上传"):null))),W?a().createElement("img",{src:W,className:e.img,alt:"图片"}):null)}}}]);